<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Visualizing Higher Dimensions • musicMCT</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing Higher Dimensions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">musicMCT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/musicMCT.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/visualizing_higher_dimensions.html">Visualizing Higher Dimensions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/satbq/musicMCT/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualizing Higher Dimensions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/satbq/musicMCT/blob/main/vignettes/visualizing_higher_dimensions.Rmd" class="external-link"><code>vignettes/visualizing_higher_dimensions.Rmd</code></a></small>
      <div class="d-none name"><code>visualizing_higher_dimensions.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://satbq.github.io/musicMCT/">musicMCT</a></span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>“To deal with hyper-planes in a 14-dimensional space, visualize a 3-D
space and say ‘fourteen’ to yourself very loudly. Everyone does it.”</p>
<p>— <a href="https://www.cs.toronto.edu/~hinton/coursera_slides.html" class="external-link">Geoffrey
Hinton</a> (Lecture 2, Slide 16 from his 2012 Coursera course <em>Neural
Networks for Machine Learning</em>)</p>
</blockquote>
<hr>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The hardest part of using Modal Color Theory is the high number of
dimensions that it needs to describe most scales. A scale with <span class="math inline">\(n\)</span> notes lives in a space of <span class="math inline">\(n-1\)</span> dimensions. (The <span class="math inline">\(-1\)</span> comes from the fact that we consider
scales to be transpositionally equivalent, so you can assume that <span class="math inline">\(\hat{1}\)</span> of every scale is 0.) This means
that pentachords, the smallest collection that we’re likely to really
consider to be scale-like, need to be understood in four
dimensions–already not easy to visualize–and it only gets worse from
there.</p>
<p>Fortunately, R can help us visualize the scale-space geometries two
or three dimensions at a time. This won’t be a picture of the whole
space all at once, but it’s a lot better than nothing. This vignette
models using musicMCT to depict a few specific cross-sections of the
hyperplane arrangements.</p>
<p>We’re going to explore the specific but important case of
heptachords, using a strategy inspired by the old practice of building
scales by combining two tetrachords. This practice derives from ancient
Greek music theory and forms an important part of the theory of Arabic
maqamat. I should stress, though, that this vignette is <em>inspired
by</em> those theories, not an attempt to explain or reformulate them.
I’m not an expert in either subject, and a maqam is more than just an
ordered collection of fixed pitches. Still, I do suspect that
tetrachordal thinking is useful at least in part for the way that it
simplifies the range of possibilities that a musician must consider when
using a scale. That simplification is a point of commonality between the
visualization we’re about to do and the actual musical practices of
Ancient Greek and Arabic classical musics (to the extent I understand
them). I’d like to think that this commonality could be enough to allow
MCT’s mathematical model to enrich our understanding of these theories,
but for this vignette our focus is only the technical problem of
simplifying high-dimensional spaces.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="seven-notes-tetrachords-and-two-dimensions">Seven Notes, Tetrachords, and Two Dimensions<a class="anchor" aria-label="anchor" href="#seven-notes-tetrachords-and-two-dimensions"></a>
</h2>
<div class="section level3">
<h3 id="defining-the-spaces">Defining the Spaces<a class="anchor" aria-label="anchor" href="#defining-the-spaces"></a>
</h3>
<p>Our initial approach will be to restrict attention to seven-note
scales that can be built from two tetrachords according to the following
plan:</p>
<ul>
<li>The higher tetrachord is an exact transposition of the lower
tetrachord by 7 semitones.</li>
<li>The lower tetrachord has a fixed first pitch of 0 and a fixed final
pitch of 5.</li>
<li>The higher tetrachord’s last pitch is thus exactly an octave above
the first pitch of the lower. (This is a consequence of the previous two
points.) Unlike <em>Musica enchiriadis</em>, we model scales with octave
equivalence, meaning that our combination of two tetrachords produces a
scale with 7 distinct pitches per octave.</li>
<li>The middle two pitches of the lower tetrachord are freely variable,
as long as they stay in the right order. (That is, they must be above 0,
less than 5, and the second pitch must be lower than the third
pitch.)</li>
</ul>
<p>Transpositional combination of this sort is easy to perform in
musicMCT with the function <code><a href="../reference/tc.html">tc()</a></code>. Let’s see how the normal
12-equal major scale can be derived as the transpositional combination
of an (0, 2, 4, 5) tetrachord at a perfect fifth:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/tc.html">tc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  0  2  4  5  7  9 11</span></span></code></pre></div>
<p>This structure is useful because it fixes most of the pitches in the
scale, allowing only the values of the middle two notes in the lower
tetrachord to vary freely. (The middle pitches of the upper tetrachord
must match the lower one, so they are completely determined by our
decisions about scale degrees 2 and 3.) This means that all scales with
this structure live in a two-dimensional subspace of the overall
heptachord geometry: the two dimensions of the subspace correspond
directly to our choices for the values of scale degree 2 and 3. Let’s
define a function that takes in a pair of choices for the variable scale
degrees (i.e. a “genus” in Ancient Greek theory) and returns an entire
scale:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scale_from_genus</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">genus</span><span class="op">)</span> <span class="op">{</span></span>
<span> <span class="va">sd2</span> <span class="op">&lt;-</span> <span class="va">genus</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span> <span class="va">sd3</span> <span class="op">&lt;-</span> <span class="va">genus</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span> <span class="kw">if</span> <span class="op">(</span><span class="va">sd2</span> <span class="op">&gt;</span> <span class="va">sd3</span><span class="op">)</span> <span class="op">{</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span> <span class="op">}</span></span>
<span> <span class="fu"><a href="../reference/tc.html">tc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">sd2</span>, <span class="va">sd3</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Since the space of such scales is only two dimensional, it will be
easy to visualize on a normal x-y plot. The space is a planar slice
through the complete 6-D heptachord space. For concision, I’ll call it
the “<code><a href="../reference/tc.html">tc()</a></code> plane” since we can build any scale in it with
<code><a href="../reference/tc.html">tc()</a></code>.</p>
<p>To understand the <code><a href="../reference/tc.html">tc()</a></code> plane’s relationship to the whole
heptachord space, recall that every “hue” in MCT is a ray that emanates
outward from the perfectly even scale at the center of the space (in
this case, seven-tone equal temperament). The perfectly even heptachord
cannot be constructed by <code>scale_from_genus()</code>, so it does not
lie on the <code><a href="../reference/tc.html">tc()</a></code> plane. Therefore, each point in our
visualization will be an intersection between some hue and our
<code><a href="../reference/tc.html">tc()</a></code> plane. You might think of our visualization as a
window pane that we’re looking through: each spot on the pane actually
corresponds to a line of sight in our field of view. Figure 1 sketches
this schematically, but remember that the actual <code><a href="../reference/tc.html">tc()</a></code> plane
is embedded in a 6-D space rather than the normal 3-D world:</p>
<p><img src="img/vhd_plane_embedding.png" width="75%"></p>
<p><strong>Figure 1: Schematic representation of the tc() plane in
heptachord space</strong></p>
<p><br></p>
<p>Figure 1 is not a precise picture of heptachord space, but as a step
toward interpreting our actual visualizations, we might imagine that the
ray labeled “hue 1” represents the hue of meantone major scales. Another
way to say this is that “hue 1” represents all the heptachords that have
Carey and Clampitt’s property of “well formedness” and can be
represented as the pattern of steps LLSLLLS where L and S represent
large and small steps. As long as L &gt; S and the pattern of 5 large
and 2 small steps adds up to a full octave, any choice of specific
values for L and S will result in a scale that lies along this hue. The
point where hue #1 intersects the <code><a href="../reference/tc.html">tc()</a></code> plane will be
specifically the scale where L=2 and S=1, which is to say exactly the
familiar major scale from 12-tone equal temperament. (We know that the
intersection between the hue and the <code><a href="../reference/tc.html">tc()</a></code> plane must be
this specific scale, because our <code><a href="../reference/tc.html">tc()</a></code> construction
guarantees that the interval of disjunction between the two tetrachords
is exactly 2 semitones, which forces our hand with regard to all the
other L and S step sizes.)</p>
<p>Similarly, we might imagine that “hue 3” represents well-formed
heptachords with the step pattern SLLLSLL, which is to say all tunings
of the phrygian octave species. The visible point on both hue 3 and the
<code><a href="../reference/tc.html">tc()</a></code> plane is then 12tet phrygian: (0, 1, 3, 5, 7, 8,
10).</p>
<p>Hue 2 has been drawn to lie in between hues 1 and 3: all three hues
lie on a single plane in heptachord space which cuts across the
<code><a href="../reference/tc.html">tc()</a></code> plane. The plane containing hues 1, 2, and 3
intersects the <code><a href="../reference/tc.html">tc()</a></code> plane in a line, so the three “visible
points” in Figure 1 all lie on a line in the <code><a href="../reference/tc.html">tc()</a></code> plane.
The visible point of hue 2 must be some intermediate scale between
ionian and phrygian. If it were exactly half way between those two
diatonic modes, its values would simply an average of ionian and
phrygian: (0, 1.5, 3.5, 5, 7, 8.5, 10.5). This would actually be another
well-formed scale with the step pattern SLSLSLS. But, given the way I’ve
drawn the figure, it looks to me like hue 2 is slightly closer to hue 3
than hue 1, so we might guess that it represents the scale (0, 1.4, 3.4,
5, 7, 8.4, 10.4). This has the step pattern SLMLSLM (where M represents
a <strong>m</strong>edium step size somewhere between the
<strong>s</strong>mall and <strong>l</strong>arge steps). This is not
coincidentally a pattern that fits David Clampitt’s definition of a
“pairwise well-formed” scale. Such scales are always two-dimensional
subspaces that run from one well-formed hue to another.</p>
<p>If you aren’t familiar with well-formed and pairwise well-formed
scales, don’t worry too much about the preceding paragraph. The
important point is that a scalar subspace which is inherently
two-dimensional (like the plane containing all of hues 1, 2, and 3) will
show up in our visualization as a single line (i.e. the line connecting
the three visible points in Figure 1). More generally, any structure
that looks like it has dimension <span class="math inline">\(k\)</span>
in the <code><a href="../reference/tc.html">tc()</a></code> plane will actually have dimension <span class="math inline">\(k+1\)</span> in the overall space. Our
visualization is a 2-D plane but it smuggles in a third dimension, which
is the one that travels in and out along the hues in Figure 1. (This
dimension is what MCT calls “saturation”; it can be manipulated with
<code><a href="../reference/saturate.html">saturate()</a></code>.) You might compare this to looking at a street
map of a city, which is inherently 2-D but where you can easily imagine
an invisible height dimension.</p>
</div>
<div class="section level3">
<h3 id="familiar-scales-as-landmarks">Familiar Scales as Landmarks<a class="anchor" aria-label="anchor" href="#familiar-scales-as-landmarks"></a>
</h3>
<p>Now that we know what the <code><a href="../reference/tc.html">tc()</a></code> plane is and have a sense
of how it relates to the overall heptachord space, let’s start actually
visualizing it. We’ll begin by plotting a few specific scales to use as
reference points. Among scales that have familiar names in Western music
theory, there are several that have the desired tetrachordal
structure:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ionian</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="co">#1</span></span>
<span><span class="va">dorian</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="co">#2</span></span>
<span><span class="va">phrygian</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="co">#3</span></span>
<span><span class="va">double_harmonic</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="co">#4</span></span>
<span><span class="va">enharmonic</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="co">#5</span></span>
<span></span>
<span><span class="va">demo_scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ionian</span>, <span class="va">dorian</span>, <span class="va">phrygian</span>, <span class="va">double_harmonic</span>, <span class="va">enharmonic</span><span class="op">)</span></span></code></pre></div>
<p>To see these scales on the plane, we define the function
<code>tetra_plot()</code> and feed our scales into it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tetra_plot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">scales</span>, <span class="va">title</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">'aliceblue'</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">scales</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>, </span>
<span>       <span class="va">scales</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span>, </span>
<span>       xlab<span class="op">=</span><span class="st">"Height of scale degree 2"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.05</span>, <span class="fl">5.05</span><span class="op">)</span>,</span>
<span>       ylab<span class="op">=</span><span class="st">"Height of scale degree 3"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.01</span>, <span class="fl">5.01</span><span class="op">)</span>,</span>
<span>       <span class="va">...</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">"gray35"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="va">title</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">tetra_plot</span><span class="op">(</span><span class="va">demo_scales</span>, </span>
<span>           <span class="st">"Location of 5 Reference Scales in the tc() Plane"</span>,</span>
<span>           pch<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="va">toString</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-6-1.png" width="480"></p>
<p><strong>Figure 2</strong></p>
<p><br></p>
<p>The scales are marked by numbers in the order that we defined them:
the ionian scale is “1”, dorian “2”, and so on. It will be useful to
keep these points in mind as landmarks while we populate the space with
more scales. (Note, by the way, that ionian is #1 and phrygian is #3
just like they were in Figure 1. This is just a coincidence. In our
plot, dorian is #2 and doesn’t lie on a straight line between 1 and 3,
so it doesn’t correspond to “hue #2” from Figure 1.)</p>
<p>The <code><a href="../reference/tc.html">tc()</a></code> plane has an inversional symmetry that’s just
barely visible in this initial plot, but which becomes more conspicuous
as we add scales. Both scale 2 (dorian, {0, 2, 3, 5, 7, 9, 10}) and
scale 4 (double harmonic, {0, 1, 4, 5, 7, 8, 11}) are symmetrical under
<span class="math inline">\(T_0 I\)</span>. All scales in the
<code><a href="../reference/tc.html">tc()</a></code> plane that lie on the northwest-southeast line from #2
to #4 have this same symmetry. Moreover, pairs of scales that are
reflections across that line are transformed into each other by <span class="math inline">\(T_0 I\)</span>. That’s the transformation that
takes C major (at point 1) to C phrygian (at point 3). Similarly, we
could imagine reflecting the scale built from the enharmonic genus at
point 5 across the line of inversional symmetry, which should give a new
scale in the top right quadrant of the graph, with quarter-tone steps
clustered toward the top of its tetrachords. Let’s verify that this
works and plot the new scale as point #6:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Invert the original enharmonic scale:</span></span>
<span><span class="va">inverted_enharmonic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tn.html">tni</a></span><span class="op">(</span><span class="va">enharmonic</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define a new enharmonic scale based on where we expect to plot it:</span></span>
<span><span class="va">new_enharmonic</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4.5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The two are the same:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">inverted_enharmonic</span>, <span class="va">new_enharmonic</span><span class="op">)</span></span>
<span><span class="co">#&gt;                     [,1] [,2] [,3] [,4] [,5] [,6] [,7]</span></span>
<span><span class="co">#&gt; inverted_enharmonic    0    4  4.5    5    7   11 11.5</span></span>
<span><span class="co">#&gt; new_enharmonic         0    4  4.5    5    7   11 11.5</span></span>
<span></span>
<span><span class="co"># Let's plot them:</span></span>
<span><span class="va">demo_scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">demo_scales</span>, <span class="va">inverted_enharmonic</span><span class="op">)</span></span>
<span><span class="fu">tetra_plot</span><span class="op">(</span><span class="va">demo_scales</span>, </span>
<span>           <span class="st">"Location of 6 Reference Scales in the tc() Plane"</span>,</span>
<span>           pch<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">toString</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-7-1.png" width="480"></p>
<p><strong>Figure 3</strong></p>
<p><br></p>
<p>That definitely starts to make the symmetry of the space more
visually clear. Before we move on, let’s encapsulate the work we’ve done
with a new function, <code>show_landmarks()</code>, which lets us add
reminders of these six scales to any new plots we create:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">show_landmarks</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">demo_scales</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>, <span class="va">demo_scales</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span>, pch<span class="op">=</span><span class="fl">19</span>, cex<span class="op">=</span><span class="fl">2.5</span>, col<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">demo_scales</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>, <span class="va">demo_scales</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span>, pch<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">toString</span><span class="op">)</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualize-all-the-colors">Visualize all the colors<a class="anchor" aria-label="anchor" href="#visualize-all-the-colors"></a>
</h3>
<p>Let’s now take a look at the landscape of the whole plane, not just
individual points on it. The simplest question we might ask is “how many
distinct scalar colors can be visualized on the <code><a href="../reference/tc.html">tc()</a></code>
plane?” We can answer that by randomly sampling many points on the
plane, calculating their sign vectors, and counting how many distinct
sign vectors result. First we’ll do that only as a numeric computation,
sampling 4000 points in the plane:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">num_points</span> <span class="op">&lt;-</span> <span class="fl">4000</span></span>
<span><span class="va">parhypatai</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">num_points</span>, <span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">lichanoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">num_points</span>, <span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">parhypatai</span>, <span class="va">lichanoi</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span>MARGIN<span class="op">=</span><span class="fl">2</span>, FUN<span class="op">=</span><span class="va">sort</span><span class="op">)</span></span>
<span><span class="va">random_scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">inputs</span>, <span class="fl">2</span>, <span class="va">scale_from_genus</span><span class="op">)</span></span>
<span><span class="va">all_signvectors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">random_scales</span>, <span class="fl">2</span>, <span class="va">signvector</span><span class="op">)</span></span>
<span><span class="va">unique_signvectors</span> <span class="op">&lt;-</span> <span class="va">all_signvectors</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span>MARGIN<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span>MARGIN<span class="op">=</span><span class="fl">2</span>, FUN<span class="op">=</span><span class="va">toString</span><span class="op">)</span></span>
<span><span class="va">unique_signvectors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">unique_signvectors</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">unique_signvectors</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 26</span></span></code></pre></div>
<p>This tells us that the scales we’ve sampled represent 26 different
scalar colors. We can see them by plotting all the scales, coloring each
point to reflect which scalar “color” it belongs to. (Of course, the
association between each visual color and the scalar structure it
represents is arbitrary: there’s nothing essentially more blue or red
about one scale structure than another.) Let’s also include the six
“landmark” scales from Figure 3, plotted as numbers rather than colored
points:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">match_sv</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">sv</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">unique_signvectors</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/toString.html" class="external-link">toString</a></span><span class="op">(</span><span class="va">sv</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span><span class="op">==</span><span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">res</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">scalar_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">all_signvectors</span>, <span class="fl">2</span>, <span class="va">match_sv</span><span class="op">)</span></span>
<span><span class="va">display_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette.colors</a></span><span class="op">(</span><span class="fl">26</span>, palette<span class="op">=</span><span class="st">"Polychrome 36"</span><span class="op">)</span><span class="op">[</span><span class="va">scalar_colors</span><span class="op">]</span></span>
<span></span>
<span><span class="fu">tetra_plot</span><span class="op">(</span><span class="va">random_scales</span>, </span>
<span>           <span class="st">"26 Scalar Colors in the tc() Plane"</span>,</span>
<span>           col<span class="op">=</span><span class="va">display_colors</span>,</span>
<span>           pch<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-11-1.png" width="480"></p>
<p><strong>Figure 4</strong></p>
<p><br></p>
<p>Each colored polygon in this figure represents a different scale
structure. For instance, landmark #4 (the “double harmonic” scale) sits
at the boundary between two right triangles (reddish purple to its lower
left and yellow-green to its upper right). Scales inside those colored
polygons have three degrees of freedom to vary their pitches without
fundamentally altering their structure: up/down and left/right as
visualized and also in/out along their line of saturation. (Recall
Figure 1.) All of the scales that Figure 4 plots as colored points have
these 3 degrees of freedom: our random sample of scales on the plane
didn’t produce any 1- or 2-D scales because it’s very unlikely that a
randomly generated scale will have more regularity than what is required
by our definition of scale_from_genus(). Nonetheless, we can see the 1-
and 2-D scales in Figure 4 as the boundaries between colored polygons.
Landmark scale #4 (double harmonic), for instance, is 2-D because it
lies directly on the line segment that separates the reddish purple and
yellow-green triangles:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/howfree.html">howfree</a></span><span class="op">(</span><span class="va">double_harmonic</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Scalar colors with only one degree of freedom show up on the
<code><a href="../reference/tc.html">tc()</a></code> plane as points where multiple lines intersect. All
three diatonic modes that we can visualize (landmarks #1, #2, and #3)
are at such intersections, and (like all well-formed scales) that have
only one degree of freedom:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/howfree.html">howfree</a></span><span class="op">(</span><span class="va">ionian</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/howfree.html">howfree</a></span><span class="op">(</span><span class="va">dorian</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/howfree.html">howfree</a></span><span class="op">(</span><span class="va">phrygian</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>If we wanted to run some calculations on examples of the 1- or 2-D
scales, we would need a way to generate them explicitly. We could think
through defining them with a specific function, along the lines of
scale_from_genus(), but musicMCT also allows us to project a given scale
onto any “flat” (i.e. intersection of hyperplanes) in the arrangement.
If we know the specific hyperplanes that we want to project onto, we can
use <code><a href="../reference/project_onto.html">project_onto()</a></code>; but if we have a specific scale that
already lies on the desired flat, we can use <code><a href="../reference/project_onto.html">match_flat()</a></code>.
To see this latter function in action, let’s project all 4000 sampled
scales onto the same flat as the double harmonic scale: we should end up
with 4000 points all lying on the same northwest-southeast diagonal line
as double harmonic itself. I’ll plot the new projected scales a black
points, in addition to the colorful points from Figure 4.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">projected_scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">random_scales</span>, <span class="fl">2</span>, <span class="va">match_flat</span>, target_scale<span class="op">=</span><span class="va">double_harmonic</span><span class="op">)</span></span>
<span><span class="va">colors_for_projected_scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="va">num_points</span><span class="op">)</span></span>
<span><span class="va">scales_for_fig5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">random_scales</span>, <span class="va">projected_scales</span><span class="op">)</span></span>
<span><span class="va">colors_for_fig5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">display_colors</span>, <span class="va">colors_for_projected_scales</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tetra_plot</span><span class="op">(</span><span class="va">scales_for_fig5</span>,</span>
<span>           <span class="st">"Double Harmonic's Flat as a Line of Black Points"</span>,</span>
<span>           col<span class="op">=</span><span class="va">colors_for_fig5</span>,</span>
<span>           pch<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-14-1.png" width="480"></p>
<p><strong>Figure 5</strong></p>
<p><br></p>
<p>Now that we have specific examples of scales on that flat to work
with, we can explore whatever properties we’re interested in. For
instance, <a href="https://doi.org/10.1007/978-3-642-04579-0_46" class="external-link">Clampitt 2009</a>
tells us that the <code>double_harmonic</code> scale is “pairwise
well-formed.” (In fact, it’s an example of the unusual class of
<em>singular</em> pairwise-well formed scales.) Do all the scales that
lie on its flat have that property, too?</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_for_pwf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">projected_scales</span>, <span class="fl">2</span>, <span class="va">isgwf</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">test_for_pwf</span><span class="op">)</span></span>
<span><span class="co">#&gt; test_for_pwf</span></span>
<span><span class="co">#&gt; TRUE </span></span>
<span><span class="co">#&gt; 4000</span></span></code></pre></div>
<p>All 4000 of our <code>projected_scales</code> return
<code>TRUE</code>: they’re all pairwise well-formed! It’s not hard to
show that this is true in general: like well-formedness, pairwise
well-formedness is either always true or always false for the 2-D scales
on a given flat.</p>
</div>
<div class="section level3">
<h3 id="optimizing-evenness-on-the-double-harmonic-flat">Optimizing evenness on the “double harmonic” flat<a class="anchor" aria-label="anchor" href="#optimizing-evenness-on-the-double-harmonic-flat"></a>
</h3>
<p>Properties that can only be true or false aren’t terribly interesting
to visualize, so let’s also play around with a property that can take
continuous values. For instance, might wonder the scales’
<code><a href="../reference/evenness.html">evenness()</a></code> changes as we vary along the line. We’ll
calculate the evenness of each scale that lies on the flat and plot the
points so that more even scales are represented by larger points.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">evenness_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">projected_scales</span>, <span class="fl">2</span>, <span class="va">evenness</span><span class="op">)</span></span>
<span><span class="va">sizes_for_fig6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">num_points</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">)</span><span class="op">-</span><span class="va">evenness_values</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tetra_plot</span><span class="op">(</span><span class="va">scales_for_fig5</span>,</span>
<span>           <span class="st">"Line Thickness Represents Scale Evenness"</span>,</span>
<span>           col<span class="op">=</span><span class="va">colors_for_fig5</span>,</span>
<span>           pch<span class="op">=</span><span class="fl">20</span>,</span>
<span>           cex<span class="op">=</span><span class="va">sizes_for_fig6</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-16-1.png" width="480"></p>
<p><strong>Figure 6</strong></p>
<p><br></p>
<p>You can see that the largest points (and thus the most even scales)
lie in the zone between landmarks 2 and 4. The scales get very uneven as
we move toward the top left corner of the plot. This makes sense,
because the point (0, 5) at the top left of the <code><a href="../reference/tc.html">tc()</a></code> plane
represents a scale whose <span class="math inline">\(\hat{2}\)</span> is
0 (the same as <span class="math inline">\(\hat{1}\)</span>) and whose
<span class="math inline">\(\hat{3}\)</span> is 5 (the same as <span class="math inline">\(\hat{4}\)</span>): such a scale is very uneven
because its “stepwise motion” varies widely between not moving at all
and making large leaps.</p>
<p>Now, most of the detail in the <code><a href="../reference/tc.html">tc()</a></code> plane lies in the
square bounded by landmarks 1, 2, 3, and 4. It’s hard to tell exactly
how many colors lie in that region, and similarly hard to tell exactly
where the thickest point on the diagonal black line is. We can zoom in
to get a better view of that part of the plane:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zoomed_tetra_plot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">scales</span>, <span class="va">title</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">'aliceblue'</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">scales</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span>, </span>
<span>       <span class="va">scales</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span>, </span>
<span>       xlab<span class="op">=</span><span class="st">"Height of scale degree 2"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.95</span>, <span class="fl">2.05</span><span class="op">)</span>,</span>
<span>       ylab<span class="op">=</span><span class="st">"Height of scale degree 3"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.99</span>, <span class="fl">4.01</span><span class="op">)</span>,</span>
<span>       <span class="va">...</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">"gray35"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="va">title</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">zoomed_parhypatai</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">num_points</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">zoomed_lichanoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">num_points</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">zoomed_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">zoomed_parhypatai</span>, <span class="va">zoomed_lichanoi</span><span class="op">)</span></span>
<span><span class="va">zoomed_sets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">zoomed_inputs</span>, <span class="fl">2</span>, <span class="va">scale_from_genus</span><span class="op">)</span></span>
<span><span class="va">zoomed_signvectors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">zoomed_sets</span>, <span class="fl">2</span>, <span class="va">signvector</span><span class="op">)</span></span>
<span><span class="va">zoomed_scalar_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">zoomed_signvectors</span>, <span class="fl">2</span>, <span class="va">match_sv</span><span class="op">)</span></span>
<span><span class="va">zoomed_display_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette.colors</a></span><span class="op">(</span><span class="fl">26</span>, palette<span class="op">=</span><span class="st">"Polychrome 36"</span><span class="op">)</span><span class="op">[</span><span class="va">zoomed_scalar_colors</span><span class="op">]</span></span>
<span></span>
<span><span class="va">points_for_fig7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">zoomed_sets</span>, <span class="va">projected_scales</span><span class="op">)</span></span>
<span><span class="va">colors_for_fig7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">zoomed_display_colors</span>, <span class="va">colors_for_projected_scales</span><span class="op">)</span></span>
<span><span class="va">sizes_for_fig7</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">num_points</span><span class="op">)</span>, <span class="fl">3</span><span class="op">^</span><span class="op">(</span><span class="fu"><a href="../reference/evenness.html">evenness</a></span><span class="op">(</span><span class="va">double_harmonic</span><span class="op">)</span><span class="op">-</span><span class="va">evenness_values</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">zoomed_tetra_plot</span><span class="op">(</span><span class="va">points_for_fig7</span>, </span>
<span>                  <span class="st">"Scalar Colors in the tc() Plane's Most Interesting Zone"</span>,</span>
<span>                  col<span class="op">=</span><span class="va">colors_for_fig7</span>,</span>
<span>                  pch<span class="op">=</span><span class="fl">20</span>,</span>
<span>                  cex<span class="op">=</span><span class="va">sizes_for_fig7</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-17-1.png" width="480"></p>
<p><strong>Figure 7</strong></p>
<p><br></p>
<p>I’ve exaggerated the variation in the black line’s thickness to help
us see where the most even scale lies in Figure 7. The line seems to be
thickest at about an x value of 1.6 and a y value of 3.4. Of course, we
don’t have to eyeball this, since we can just check the evenness values
directly:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">which_most_even</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.min</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">)</span></span>
<span><span class="va">projected_scales</span><span class="op">[</span>, <span class="va">which_most_even</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1]  0.000000  1.642429  3.357571  5.000000  7.000000  8.642429 10.357571</span></span></code></pre></div>
<p>We might have guessed that the maximum evenness was at the round
numbers of <span class="math inline">\(1 \frac{2}{3}\)</span> and <span class="math inline">\(3 \frac{1}{3}\)</span>, but the real answer is is
somewhat more surprising:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">naive_guess</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="op">(</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span>, <span class="fl">3</span><span class="op">+</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">actual_optimum</span> <span class="op">&lt;-</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span><span class="op">/</span><span class="fl">14</span>, <span class="fl">47</span><span class="op">/</span><span class="fl">14</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/evenness.html">evenness</a></span><span class="op">(</span><span class="va">naive_guess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2519763</span></span>
<span><span class="fu"><a href="../reference/evenness.html">evenness</a></span><span class="op">(</span><span class="va">actual_optimum</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.2474358</span></span></code></pre></div>
<p>Since <code><a href="../reference/evenness.html">evenness()</a></code> returns lower values for more even
scales, the <code>actual_optimum</code> scale with scale degree 2 at
<span class="math inline">\(\frac{23}{14}\)</span> semitones (about
1.6428) is in fact the most even scale on the black line in Figure 7.
(The numbers <span class="math inline">\(\frac{23}{14}\)</span> and
<span class="math inline">\(\frac{47}{14}\)</span> may feel a bit less
like they come out of nowhere when we notice that their difference is
<span class="math inline">\(\frac{12}{7}\)</span>, meaning that the
scale has a step from <span class="math inline">\(\hat{2}\)</span> to
<span class="math inline">\(\hat{3}\)</span> which exactly matches the
equiheptatonic scale’s step size.) Let’s plot this scale as landmark
7:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">zoomed_tetra_plot</span><span class="op">(</span><span class="va">points_for_fig7</span>, </span>
<span>                  <span class="st">"Most Even Scale at the Point Labeled #7"</span>,</span>
<span>                  col<span class="op">=</span><span class="va">colors_for_fig7</span>,</span>
<span>                  pch<span class="op">=</span><span class="fl">20</span>,</span>
<span>                  cex<span class="op">=</span><span class="va">sizes_for_fig7</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fl">23</span><span class="op">/</span><span class="fl">14</span>, <span class="fl">47</span><span class="op">/</span><span class="fl">14</span>, pch<span class="op">=</span><span class="fl">19</span>, cex<span class="op">=</span><span class="fl">2.5</span>, col<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fl">23</span><span class="op">/</span><span class="fl">14</span>, <span class="fl">47</span><span class="op">/</span><span class="fl">14</span>, pch<span class="op">=</span><span class="st">"7"</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-20-1.png" width="480"></p>
<p><strong>Figure 8</strong></p>
<p><br></p>
<p>I was surprised by this when I wrote my first draft of this vignette,
especially since the <code>naive_guess</code> scale is not only a
rounder number but also a more regular scale. It’s at the point where 3
lines intersect just down and right of landmark 7: it’s thus
one-dimensional and, as it turns out, well-formed:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/howfree.html">howfree</a></span><span class="op">(</span><span class="va">naive_guess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="fu"><a href="../reference/iswellformed.html">iswellformed</a></span><span class="op">(</span><span class="va">naive_guess</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>I was surprised because I’d fallen into a simple trap: assuming that
all apparently desirable qualities ought to coincide in one scale. This
was an easy assumption to make because so much of Western music theory
is devoted to the notion that basic musical structures (like consonant
triads and the diatonic scale) are overdetermined, points where many
neat features overlap. There’s certainly truth to this, but our example
of the <code>naive_guess</code> and <code>actual_optimum</code> scales
is a reminder that often the situation is more like the tension between
Pythagorean and Ptolemaic “syntonic” tunings of the diatonic scale: two
desirable properties can be optimized by scales that are quite similar
but ultimately distinct from one another. Hopefully this vignette shows
how pairing direct computation with visualization strategies can help us
explore and understand such relationships.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="smoother-images">Smoother Images<a class="anchor" aria-label="anchor" href="#smoother-images"></a>
</h2>
<p>Our approach in the previous section involved randomly sampling
scales as its first step. This is especially convenient for quick
prototyping and situations where you might want to run many computations
on concrete data points. But an obvious downside of the method, seen in
Figures 4-7, is that random sampling produces a blotchy image with gaps
between the sampled points. If your goal is primarily to create a good
image, R has better tools, particularly the function
<code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code>. This function requires a bit more care in the way
you enter data as the price of entry for much better pictures.</p>
<div class="section level3">
<h3 id="familiar-ground">Familiar Ground<a class="anchor" aria-label="anchor" href="#familiar-ground"></a>
</h3>
<p>To see how it works, let’s first use <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code> to
reconstruct Figure 4:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define a grid that covers the tc() plane evenly.</span></span>
<span><span class="co"># x and y both range from 0 to 5 but with slight offsets so that we only see 3-D scales:</span></span>
<span><span class="va">grid_subdivisions</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">4.999</span>, length.out<span class="op">=</span><span class="va">grid_subdivisions</span><span class="op">)</span> </span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4.98</span>, length.out<span class="op">=</span><span class="va">grid_subdivisions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate the scale structures. (Cf. the definition of `scalar_colors` for Figure 4.)</span></span>
<span><span class="va">color_from_point</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/signvector.html">signvector</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">match_sv</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">scalar_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="va">color_from_point</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create visuals</span></span>
<span><span class="va">color_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aliceblue"</span>, <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette.colors</a></span><span class="op">(</span><span class="fl">26</span>, palette<span class="op">=</span><span class="st">"Polychrome 36"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"aliceblue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, z<span class="op">=</span><span class="va">scalar_colors</span>, col<span class="op">=</span><span class="va">color_palette</span>,</span>
<span>      xlab<span class="op">=</span><span class="st">"Height of Scale Degree 2"</span>, ylab<span class="op">=</span><span class="st">"Height of Scale Degree 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="st">"26 Scalar Colors in the tc() Plane"</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">show_landmarks</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-22-1.png" width="480"></p>
<p><strong>Figure 9</strong></p>
<p><br></p>
<p>Each region in this figure is now a continuous patch of color. The
boundaries between colors ought to be straight lines, though in Figure 9
the diagonal lines are pixelated. That’s because <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code>
creates the plot by dividing the plane into a grid of squares to be
colored. We could get a smoother-looking plot by dividing the image more
finely: you could try increasing <code>grid_subdivisions</code> in the
above code block to a number greater than 100, though the larger it
gets, the more time is required to create the image.</p>
</div>
<div class="section level3">
<h3 id="other-properties">Other Properties<a class="anchor" aria-label="anchor" href="#other-properties"></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code> function is especially useful for
visualizing features that vary continuously. One such value is scalar
<code><a href="../reference/evenness.html">evenness()</a></code>, as we explored in Figures 6-8. Let’s use
<code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code> to plot the evenness of all points on the
<code><a href="../reference/tc.html">tc()</a></code> plane. I’ll also add a white “x” to show the location
of landmark scale #7 from Figure 8.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Position plot and legend</span></span>
<span><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, widths<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the evenness values</span></span>
<span><span class="va">measure_evenness</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/evenness.html">evenness</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">evenness_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="va">measure_evenness</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fig10_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span><span class="fl">100</span>, palette<span class="op">=</span><span class="st">"Green-Brown"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"aliceblue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, z<span class="op">=</span><span class="va">evenness_values</span>, col<span class="op">=</span><span class="va">fig10_palette</span>,</span>
<span>      xlab<span class="op">=</span><span class="st">"Height of Scale Degree 2"</span>, ylab<span class="op">=</span><span class="st">"Height of Scale Degree 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="fl">23</span><span class="op">/</span><span class="fl">14</span>, <span class="fl">47</span><span class="op">/</span><span class="fl">14</span>, pch<span class="op">=</span><span class="fl">4</span>, col<span class="op">=</span><span class="st">"white"</span>, cex<span class="op">=</span><span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="st">"Evenness of Scales in the tc() Plane"</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make the legend</span></span>
<span><span class="va">color_legend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.raster.html" class="external-link">as.raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">fig10_palette</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ymin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">ymax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">evenness_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"n"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, xlab<span class="op">=</span><span class="st">""</span>, ylab<span class="op">=</span><span class="st">"Evenness"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">color_legend</span>, <span class="fl">0</span>, <span class="va">ymin</span>, <span class="fl">1</span>, <span class="va">ymax</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">2</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-24-1.png" width="672"></p>
<p><strong>Figure 10</strong></p>
<p><br></p>
<p>The most even scales (dark green) are centered around the “x” that
represents landmark #7 (the <code>actual_optimum</code> from before).
This tells us that the <code>actual_optimum</code> is not only the most
even scale on the flat of <code>double_harmonic</code> but also the most
even scale on the entire <code><a href="../reference/tc.html">tc()</a></code> plane. Otherwise, Figure 10
doesn’t tell us much that seems interesting: evenness decreases as you
move away from the <code>actual_optimum</code> in any direction. (It
decreases fastest if you move along the line of inversional symmetry and
slowest if you move perpendicular to that line.)</p>
<p>A much more interesting picture emerges if we plot the so-called
“brightness ratio” value for the scales on the <code><a href="../reference/tc.html">tc()</a></code> plane
(values that can be calculated with musicMCT’s <code><a href="../reference/eps.html">ratio()</a></code>
function).</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, widths<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the brightness ratio values</span></span>
<span><span class="va">measure_ratio</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/eps.html">ratio</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ratio_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="va">measure_ratio</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fig11_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span><span class="fl">100</span>, palette<span class="op">=</span><span class="st">"Green-Brown"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"aliceblue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, z<span class="op">=</span><span class="va">ratio_values</span>, col<span class="op">=</span><span class="va">fig11_palette</span>,</span>
<span>      xlab<span class="op">=</span><span class="st">"Height of Scale Degree 2"</span>, ylab<span class="op">=</span><span class="st">"Height of Scale Degree 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="st">'"Brightness Ratio" Values in the tc() Plane'</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make the legend</span></span>
<span><span class="va">color_legend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.raster.html" class="external-link">as.raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">fig11_palette</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ymin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">ymax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"n"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, xlab<span class="op">=</span><span class="st">""</span>, ylab<span class="op">=</span><span class="st">"Brightness Ratio"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">color_legend</span>, <span class="fl">0</span>, <span class="va">ymin</span>, <span class="fl">1</span>, <span class="va">ymax</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">2</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-26-1.png" width="672"></p>
<p><strong>Figure 11</strong></p>
<p><br></p>
<p>This is our clearest picture yet of the space’s inversional symmetry.
We can see a few spots in the <code><a href="../reference/tc.html">tc()</a></code> plane where the color
become a deep brown, representing high <code><a href="../reference/eps.html">ratio()</a></code> values. As I
argue in “Modal Color Theory,” low “brightness ratio” values seem to be
a desirable property, particularly when the value drops below 1 so that
a scale’s <code><a href="../reference/eps.html">delta()</a></code> value is smaller than <code><a href="../reference/eps.html">eps()</a></code>.
There are indeed some parts of the plane where <code><a href="../reference/eps.html">ratio()</a></code> dips
below 1. While the legend shows that this corresponds to dark greek
colors, the color scheme doesn’t make the distinction between
<code>&gt; 1</code> and <code>&lt; 1</code> really easy to spot. We
could play around with other color schemes, but we could instead take
advantage of another function that works nicely in tandem with
<code><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image()</a></code>: <code><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour()</a></code> can plot contour lines that
show us where specific values in the plot occur:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, widths<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the brightness ratio values</span></span>
<span><span class="va">measure_ratio</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/eps.html">ratio</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ratio_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="va">measure_ratio</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fig11_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span><span class="fl">100</span>, palette<span class="op">=</span><span class="st">"Green-Brown"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"aliceblue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, z<span class="op">=</span><span class="va">ratio_values</span>, col<span class="op">=</span><span class="va">fig11_palette</span>,</span>
<span>      xlab<span class="op">=</span><span class="st">"Height of Scale Degree 2"</span>, ylab<span class="op">=</span><span class="st">"Height of Scale Degree 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="st">'Contour Plot of "Brightness Ratio" in the tc() Plane'</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add the contour plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, z<span class="op">=</span><span class="va">ratio_values</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make the legend</span></span>
<span><span class="va">color_legend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.raster.html" class="external-link">as.raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">fig11_palette</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ymin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">ymax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"n"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, xlab<span class="op">=</span><span class="st">""</span>, ylab<span class="op">=</span><span class="st">"Brightness Ratio"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">color_legend</span>, <span class="fl">0</span>, <span class="va">ymin</span>, <span class="fl">1</span>, <span class="va">ymax</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">2</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-28-1.png" width="672"></p>
<p><strong>Figure 12</strong></p>
<p><br></p>
<p>From this, we certainly have a much clearer picture of which scales
have a <code><a href="../reference/eps.html">ratio()</a></code> value below 1. But, as before, there’s a lot
of detail at the center of the plot which is hard to make out in Figure
12, so let’s zoom in to the central square like we did in Figure 7.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/layout.html" class="external-link">layout</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span>, widths<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">grid_subdivisions</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">u</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1.001</span>, <span class="fl">1.999</span>, length.out<span class="op">=</span><span class="va">grid_subdivisions</span><span class="op">)</span></span>
<span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3.98</span>, length.out<span class="op">=</span><span class="va">grid_subdivisions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ratio_values2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/outer.html" class="external-link">outer</a></span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span>, <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="va">measure_ratio</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fig11_palette</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span><span class="fl">100</span>, palette<span class="op">=</span><span class="st">"Green-Brown"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"aliceblue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/image.html" class="external-link">image</a></span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span>, z<span class="op">=</span><span class="va">ratio_values2</span>, col<span class="op">=</span><span class="va">fig11_palette</span>,</span>
<span>      xlab<span class="op">=</span><span class="st">"Height of Scale Degree 2"</span>, ylab<span class="op">=</span><span class="st">"Height of Scale Degree 3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/contour.html" class="external-link">contour</a></span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span>, z<span class="op">=</span><span class="va">ratio_values2</span>, add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, <span class="st">"\"Brightness Ratio\" at Center of tc() Plane"</span>, font<span class="op">=</span><span class="fl">2</span>, line<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make the legend</span></span>
<span><span class="va">color_legend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/as.raster.html" class="external-link">as.raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">fig11_palette</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ymin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">ratio_values2</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">ymax</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">ratio_values2</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ratio_values</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span><span class="op">)</span>, type<span class="op">=</span><span class="st">"n"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, xlab<span class="op">=</span><span class="st">""</span>, ylab<span class="op">=</span><span class="st">"Brightness Ratio"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">color_legend</span>, <span class="fl">0</span>, <span class="va">ymin</span>, <span class="fl">1</span>, <span class="va">ymax</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">2</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">ymin</span>, <span class="va">ymax</span>, length.out<span class="op">=</span><span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="visualizing_higher_dimensions_files/figure-html/unnamed-chunk-30-1.png" width="672"></p>
<p><strong>Figure 13</strong></p>
<p><br></p>
<p>We can see a lot more detail here! Some of the shapes in this picture
look pretty interesting, and so far I don’t know the whole story behind
them. One thing that is good to note is that our color scale has shifted
slightly: the highest <code><a href="../reference/eps.html">ratio()</a></code> shown in Figure 13 is about
4.73, slightly more than Figure 13’s maximum value of 3.89. That’s
because we’ve zoomed further in toward the highly concentrated brown
patches, like the one centered at (1.5, 3.5). The brown patches’ centers
are all points that represent scales with one degree of freedom. For
instance, the point (1.5, 3.5) is an intersection of 4 distinct lines as
you can check by going back to Figure 9. These 1-D scales actually tend
to have very <em>low</em> <code><a href="../reference/eps.html">ratio()</a></code> values. For instance:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eps.html">ratio</a></span><span class="op">(</span><span class="fu">scale_from_genus</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">3.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>gives the result of 0 because that scale is yet another one in the
<code><a href="../reference/tc.html">tc()</a></code> plane with the property of well-formedness. Scales
that get <em>close</em> to well-formed scales (or other scales of high
regularity) tend to experience steep increases in their
<code><a href="../reference/eps.html">ratio()</a></code> value. This means that visualizations of
<code><a href="../reference/eps.html">ratio()</a></code> like Figure 13 can often be used to spot
high-regularity scales by the patches of high “brightness ratio” that
tend to surround them. The very regular scales like
<code>scale_from_genus(c(1.5, 3.5))</code> don’t themselves show up on
Figure 13 because, like Figure 4, Figure 13 only plots scales with three
degrees of freedom. Even if the more regular scales were plotted
directly on the figure, they would be largely drowned out by the more
numerous 3-D scales since they represent only individual points.</p>
</div>
<div class="section level3">
<h3 id="a-caveat">A Caveat<a class="anchor" aria-label="anchor" href="#a-caveat"></a>
</h3>
<p>Visualizing a space can have powerful effects, making the space feel
more real and more intuitively graspable. This is certainly a good
reason to do it, and the intuitions that you can build about MCT spaces
from exercises like this vignette are legitimately useful. But while
doing so we also need to remind ourselves of the limitations of the
method chosen. In the case of the <code><a href="../reference/tc.html">tc()</a></code> plane, a significant
danger lies in how drastically it oversimplifies the heptachord
arrangement: the <code><a href="../reference/tc.html">tc()</a></code> plane itself is a tiny sliver of the
space. We shouldn’t let its simplicity mislead us. For instance, looking
back at Figure 9, we see that the well-formed major scale (landmark #1)
is surrounded by 6 distinct colorful regions (i.e. six 3-D structures)
and 6 line segments (i.e. six 2-D structures). Those six neighboring
colors are a minuscule fraction of all the colors that neighbor the
major scale’s hue. It has 22,506 neighbors (plus one for the “white”
equiheptatonic). Most of these are 4-, 5-, or 6-D and could never have
shown up on the <code><a href="../reference/tc.html">tc()</a></code> plane. But 332 of its neighbors are
2-D and 2852 of them are 3-D. Imagine 332 line segments that all touch
landmark 1, not just 6 of them! That’s a good reminder of the real
complexity of the space.</p>
</div>
<div class="section level3">
<h3 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h3>
<p>To wrap up briefly, the steps we’ve taken to build the above figures
demonstrate a few options for visualizing structures in the Modal Color
Theory spaces. In my own exploration of these spaces, I’ve found it very
helpful to be able to cook up images that give me some visual sense of
what’s going on in a region of interest. We’ve seen how one useful
approach can be to define some subspace–some slice through the many
dimensions of all possible scales–like the <code><a href="../reference/tc.html">tc()</a></code> plane, to
reason about its relationship to the overall space, and to learn to
recognize various structures that occur within it (like the point
representing the meantone major scale or the line representing the
double harmonic scale’s flat). Sometimes, just learning to read a figure
and checking our visual intuitions against numerical values can lead to
interesting &amp; novel observations, like in our discussion of the
<code>naive_guess</code> and <code>actual_optimum</code> scales around
Figures 7 and 8.</p>
<p>Finally, I’d be remiss not to mention that throughout this vignette
all of the images we’ve seen (except for Figure 1, which I made in an
external graphics program) were produced by functions that come with
default installations of R. There are many packages that supplement R’s
basic graphics capacities, such as the package ggplot2, which might come
in handy for projects that have more complicated plotting needs.</p>
<hr>
<p><strong>Last updated:</strong> 3 June 2025</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Sherrill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
