<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Transposition and Inversion — tn • musicMCT</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transposition and Inversion — tn"><meta name="description" content="Calculate the classic operations on pitch-class sets \(T_n\) and
\(T_n I\). That is, tn adds a constant to all elements in a set
modulo the octave, and tni essentially multiplies a set by -1 (modulo
the octave) and then adds a constant (modulo the octave). If sorted is
TRUE (as is default), the resulting set is listed in ascending order,
but sometimes it can be useful to track transformational voice leadings,
in which case you should set sorted to FALSE.
startzero transposes a set so that its first element is 0.
(Note that this is different from tnprime() because it doesn't attempt
to find the most compact form of the set. See examples for the contrast.)
Sometimes you just want to invert a set and you don't care what the
index is. charm is a quick way to do this, giving a name to
the transposition-class of \(T_0 I\) of the set.
(The name charm is a reference to &quot;strange&quot; and &quot;charm&quot; quarks in
particle physics: I like these as names for the &quot;a&quot; and &quot;b&quot; forms of
a set class, i.e. the strange common triad is 3-11a = (0, 3, 7)
and the charm common triad is 3-11b = (0, 4, 7). The name of the function
charm means that if you input a strange set, you get out a charm set,
but NB also vice versa.)"><meta property="og:description" content="Calculate the classic operations on pitch-class sets \(T_n\) and
\(T_n I\). That is, tn adds a constant to all elements in a set
modulo the octave, and tni essentially multiplies a set by -1 (modulo
the octave) and then adds a constant (modulo the octave). If sorted is
TRUE (as is default), the resulting set is listed in ascending order,
but sometimes it can be useful to track transformational voice leadings,
in which case you should set sorted to FALSE.
startzero transposes a set so that its first element is 0.
(Note that this is different from tnprime() because it doesn't attempt
to find the most compact form of the set. See examples for the contrast.)
Sometimes you just want to invert a set and you don't care what the
index is. charm is a quick way to do this, giving a name to
the transposition-class of \(T_0 I\) of the set.
(The name charm is a reference to &quot;strange&quot; and &quot;charm&quot; quarks in
particle physics: I like these as names for the &quot;a&quot; and &quot;b&quot; forms of
a set class, i.e. the strange common triad is 3-11a = (0, 3, 7)
and the charm common triad is 3-11b = (0, 4, 7). The name of the function
charm means that if you input a strange set, you get out a charm set,
but NB also vice versa.)"><meta property="og:image" content="https://satbq.github.io/musicMCT/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">musicMCT</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/musicMCT.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/visualizing_higher_dimensions.html">Visualizing Higher Dimensions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/satbq/musicMCT/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Transposition and Inversion</h1>
      <small class="dont-index">Source: <a href="https://github.com/satbq/musicMCT/blob/main/R/set_theory.R" class="external-link"><code>R/set_theory.R</code></a></small>
      <div class="d-none name"><code>tn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the classic operations on pitch-class sets \(T_n\) and
\(T_n I\). That is, <code>tn</code> adds a constant to all elements in a set
modulo the octave, and <code>tni</code> essentially multiplies a set by <code>-1</code> (modulo
the octave) and then adds a constant (modulo the octave). If <code>sorted</code> is
<code>TRUE</code> (as is default), the resulting set is listed in ascending order,
but sometimes it can be useful to track transformational voice leadings,
in which case you should set <code>sorted</code> to <code>FALSE</code>.</p>
<p><code>startzero</code> transposes a set so that its first element is <code>0</code>.
(Note that this is different from <code><a href="tnprime.html">tnprime()</a></code> because it doesn't attempt
to find the most compact form of the set. See examples for the contrast.)</p>
<p>Sometimes you just want to invert a set and you don't care what the
index is. <code>charm</code> is a quick way to do this, giving a name to
the transposition-class of \(T_0 I\) of the set.
(The name <code>charm</code> is a reference to "strange" and "charm" quarks in
particle physics: I like these as names for the "a" and "b" forms of
a set class, i.e. the strange common triad is 3-11a = (0, 3, 7)
and the charm common triad is 3-11b = (0, 4, 7). The name of the function
<code>charm</code> means that if you input a strange set, you get out a charm set,
but NB also vice versa.)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tn</span><span class="op">(</span></span>
<span>  <span class="va">set</span>,</span>
<span>  <span class="va">n</span>,</span>
<span>  sorted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  octave_equivalence <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  optic <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edo <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  rounder <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tni</span><span class="op">(</span><span class="va">set</span>, <span class="va">n</span>, edo <span class="op">=</span> <span class="fl">12</span>, sorted <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">startzero</span><span class="op">(</span><span class="va">set</span>, sorted <span class="op">=</span> <span class="cn">TRUE</span>, edo <span class="op">=</span> <span class="fl">12</span>, rounder <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">charm</span><span class="op">(</span><span class="va">set</span>, edo <span class="op">=</span> <span class="fl">12</span>, rounder <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-set">set<a class="anchor" aria-label="anchor" href="#arg-set"></a></dt>
<dd><p>Numeric vector of pitch-classes in the set</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Numeric value (not necessarily an integer!) representing the
index of transposition or inversion.</p></dd>


<dt id="arg-sorted">sorted<a class="anchor" aria-label="anchor" href="#arg-sorted"></a></dt>
<dd><p>Do you want the result to be in ascending order? Boolean,
defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-octave-equivalence">octave_equivalence<a class="anchor" aria-label="anchor" href="#arg-octave-equivalence"></a></dt>
<dd><p>Do you want to normalize the result so that all values are
between 0 and <code>edo</code>? Boolean, defaults to <code>TRUE</code>.</p></dd>


<dt id="arg-optic">optic<a class="anchor" aria-label="anchor" href="#arg-optic"></a></dt>
<dd><p>String the OPTIC symmetries to apply. Defaults to <code>NULL</code>,
applying symmetries most appropriate to the given function. If specified, overrides
parameters <code>sorted</code> and <code>octave_equivalence</code>.</p></dd>


<dt id="arg-edo">edo<a class="anchor" aria-label="anchor" href="#arg-edo"></a></dt>
<dd><p>Number of unit steps in an octave. Defaults to <code>12</code>.</p></dd>


<dt id="arg-rounder">rounder<a class="anchor" aria-label="anchor" href="#arg-rounder"></a></dt>
<dd><p>Numeric (expected integer), defaults to <code>10</code>:
number of decimal places to round to when testing for equality.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Numeric vector of same length as <code>set</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">c_major</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span>, <span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">tn</span><span class="op">(</span><span class="va">c_major</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 6 9</span>
<span class="r-in"><span><span class="fu">tn</span><span class="op">(</span><span class="va">c_major</span>, <span class="op">-</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 6 9</span>
<span class="r-in"><span><span class="fu">tn</span><span class="op">(</span><span class="va">c_major</span>, <span class="op">-</span><span class="fl">10</span>, optic<span class="op">=</span><span class="st">"p"</span><span class="op">)</span> <span class="co"># Equivalent to tn(c_major, -10, octave_equivalence=FALSE)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -10  -6  -3</span>
<span class="r-in"><span><span class="fu">tni</span><span class="op">(</span><span class="va">c_major</span>, <span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 3 7</span>
<span class="r-in"><span><span class="fu">tni</span><span class="op">(</span><span class="va">c_major</span>, <span class="fl">7</span>, sorted<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7 3 0</span>
<span class="r-in"><span><span class="fu">tn</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 1 6 7</span>
<span class="r-in"><span><span class="fu">tn</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">6</span>, sorted<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6 7 0 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##### Difference between startzero and tnprime</span></span></span>
<span class="r-in"><span><span class="va">e_maj7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">11</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">startzero</span><span class="op">(</span><span class="va">e_maj7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  0  4  7 11</span>
<span class="r-in"><span><span class="fu"><a href="tnprime.html">tnprime</a></span><span class="op">(</span><span class="va">e_maj7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 1 5 8</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isTRUE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="tnprime.html">tnprime</a></span><span class="op">(</span><span class="va">e_maj7</span><span class="op">)</span>, <span class="fu">charm</span><span class="op">(</span><span class="va">e_maj7</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># True because inversionally symmetrical</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##### Derive minimal voice leading from ionian to lydian</span></span></span>
<span class="r-in"><span><span class="va">ionian</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">11</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lydian</span> <span class="op">&lt;-</span> <span class="fu"><a href="rotate.html">rotate</a></span><span class="op">(</span><span class="fu">tn</span><span class="op">(</span><span class="va">ionian</span>, <span class="fl">7</span>, sorted<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lydian</span> <span class="op">-</span> <span class="va">ionian</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0 1 0 0 0</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Sherrill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

